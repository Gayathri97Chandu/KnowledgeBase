This table of adverse events from the EU SPCs as downloaded from
http://www.imi-protect.eu/adverseDrugReactions.shtml 

The euspc-drug-listing holds drug names for single ingredient drugs
listed in the adverse event table. This was created by:

1) cat FinalRepository_DLP30Jun2012.csv| cut -f3 | sort | uniq > euspc-drug-listing.txt

2) within emacs: replace-regexp  ".*, .*^J" -> ""

----- description ------

Adverse Drug Reactions Database

 

The PROTECT ADR database is a downloadable Excel file listing of all MedDRA PT or LLT adverse drug reactions (ADRs). It is a structured Excel database of all adverse drug reactions (ADRs) listed in section 4.8 of the Summary of Product Characteristics (SPC) of medicinal products authorised in the EU according to the centralised procedure. It is based exclusively on MedDRA terminology. In principle, MedDRA Preferred Terms (PT) are used to map terms of the SPC. When they are used in the SPC to add precision in the description of the ADR, Low Level Terms (LLTs) are also coded. PTs and LLTs are linked to a primary System Organ Class (SOC). The database also includes information on gender, causality, frequency, class warning and source of information for ADRs for which additional information is provided in the SPC. Fields are described in the file Database structure.


The current database has been updated up to 31 December 2012 based on latest available SPC which can be found on the European Commission website. The database includes for each product the date of the SPC which has been used to list ADRs.


The database has been created by EMA and partners in PROTECT Work Package 3 through a stepwise approach using automated mapping of ADR terms listed in section 4.8 of the SPC to the MedDRA terminology, fuzzy text matching (Bergvall et al. Pharmacoepidemiol Drug Saf. 2011;20(S1), S143) and expert review.
It is aimed to routinely update the database at least once a year based on amended SPCs. It can also be amended between routine updates to correct data entries.

Objectives

A time-consuming step in signal detection of adverse reactions is the determination of whether an effect is already recorded in the European Summary of Product Characteristics (SPC). Thus there is a need for a structured database which can be searched for this information. Such a database also allows filtering or flagging reaction monitoring reports for signals related to unlisted reactions only, thus improving considerably the efficiency of the signal detection process.

A data set of established ADRs also allows a comparison to coincidental or unidentified drug-adverse event combinations only, an adjustment of statistical signals for known ADRs, and an evaluation of the effect of background restriction on the performance of statistical signal detection.
The objective of the ADR database is not to provide a continuously updated list of ADRs to centrally-authorised products.

Disclaimer


The establishment of this database, which is set up and maintained by the EMA and PROTECT partners, is not required by legislation and it is intended to provide an additional tool for signal detection activities and research purposes. Although all parties involved in the project have made their best efforts to provide comprehensive and up-to-date information, the EMA and PROTECT partners cannot be held responsible for failure to list some adverse drug reactions, inaccuracies in the MedDRA mapping and for any inappropriate use of this database.

--------------------------------------------------------------------------------------------------------------------------
07.16.2014
Jeremy Jao

python script:
processEuSPCToAddRxNormAndMeSH.py
- Description:
	- Add columns with RxNorm and MeSH mappings
	- These mappings come from json-rxcui/drugMappings.txt for each drug
	- if found, the CUIs in RxNorm and MeSH will be added to the dict
- input:
	- original file:
		FinalRepository_DLP30Jun2012.csv
	- map file:
		json-rxcui/drugMappings.txt
- output:
	- Final_Repository_DLP30Jun2012_withCUIs.csv
- Problems:
	- I wasn't sure how to handle the situations like line 723 in the input file (see row[2] below):
		Adrovance	59424	ALENDRONIC ACID, COLECALCIFEROL
	- So what I did was split the string in row[2] by ', ' then run a loop to find if either
	alendronic acid or colecalciferol would be found. Not sure if this is the correct way to do things......
	- perhaps the solution to this problem would be either be to find the CUIs by Product instead and not the substance. EDIT: 07-19-2014 - looks like I'll be adding these manually

07-19-2014
============================


- As said in json-rxcui/README, there were 268 substance RxCUIs and 269 MeSH substance CUIs. There was only one file that didn't have an RxCUI in the list but was in MeSH:
N-(3-amino-1-(cyclobutylmethyl)-2,3-dioxopropyl)-3-(2-((((1,1-dimethylethyl)amino)carbonyl)amino)-3,3-dimethyl-1-oxobutyl)-6,6-dimethyl-3-azabicyclo(3.1.0)hexan-2-carboxamide 666 657

**New Script made getMissingMappings.py:

	This is a script that opens the input which will then find missing CUIs
	or multiple substances per one drug and then writes them into one of the 4
	outputs written below.
	
	Usage:
	- python3 getMissingMappings.py
	
	Input:
	- Final_Repository_DLP30Jun2012_withCUIs.csv
		- made by
	
	Outputs:
	- format on all:
		- product|substance
	1. missingRxNorms.txt
		- writes single-substance drug with only a missing RxNorm CUI
	2. missingMeSHes.txt
		- writes single-substance drug with only a missing MeSH CUI
	3. bothCUIsMissing.txt
		- writes single-substance drug with both CUIs missing
	4. multipleSubstances.txt
		- writes multi-substance drugs to here

Current plan now is to just manually add the RxCUIs of specific product names (drugs).

07.21.2014
====================

I am manually adding the CUIs missing as shown in the text files above to
the files above *_CUIs.txt using bioontology.bioportal.com.

This will then run on the python 3 script 

Still Missing MeSH CUIs:
- Aldurazyme|Laronidase
	- Laronidase is an L molecule for Iduronidase though which has a MeSH CUI
- Ambirix
	- cannot add since it is multiple substances

Still Missing RxNorm CUIs:
- IVABRADINE
	- bioportal rxnorm and google give 0 results
- Stiripentol
	- bioportal rxnorm and google give 0 results
- PIXANTRONE
	- bioportal rxnorm and google give 0 results
- PRUCALOPRIDE
	- bioportal rxnorm and google give 0 results
- VINFLUNINE
	- bioportal rxnorm and google give 0 results
- TRABECTEDIN
	- bioportal rxnorm and google give 0 results

Still Missing both CUIs:
	- Aflunov
		- no RxNorm still and multiple MeSH IDs possible?
TODO: in bothMissingCUIs_CUIs.txt, contiue after Ambirix
